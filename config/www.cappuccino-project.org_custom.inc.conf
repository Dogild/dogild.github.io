gzip_http_version   1.1;
gzip_proxied        expired no-cache no-store private auth;
gzip_disable        "MSIE [1-6]\.";
gzip_vary           on;

rewrite  ^/learn/demos/.*/Frameworks/(.*)$ /downloads/Starter/NewApplication/Frameworks/$1 last;

location ^~ /learn/documentation/ {
    alias   /www/www.cappuccino-project.org/downloads/Starter/Documentation/;
}

location = /discuss/ {
    # Change /discuss/?p=100 to /discuss/100 temporarily so we can more easily rewrite that below.
    if ($args ~ "p=(\d+)") {
        set $page_id $1;
        rewrite ^ http://$host/discuss/p/$page_id last;
    }
    rewrite ^ http://$host/blog/ permanent;
}

rewrite ^/2010/04/cappuccino-0-8-tools/?$ http://$host/blog/2010/04/cappuccino-0-8-tools.html permanent;
rewrite ^/2011/05/cappcon-tickets-now-available/?$ http://$host/blog/2011/05/cappcon-tickets-now-available.html permanent;
rewrite ^/2012/04/cappuccino-news-2/?$ http://$host/blog/2012/04/cappuccino-news-2.html permanent;
rewrite ^/about/?$ http://$host/ permanent;
rewrite ^/blog/2008/10/cappuccino-tools-%E2%80%9Cpress%E2%80%9D.html$ http://$host/blog/2008/10/cappuccino-tools-press.html permanent;
rewrite ^/category/blog/?$ http://$host/blog/ permanent;
rewrite ^/category/code/?$ http://$host/blog/tags/code.html permanent;
rewrite ^/chat/?$ http://$host/support/ permanent;
rewrite ^/community/?$ http://$host/support/ permanent;
rewrite ^/community/contribute/?$ http://$host/contribute.html permanent;
rewrite ^/community/contribute/bug-reports-feature-requests/?$ http://$host/contribute.html#bug-reports permanent;
rewrite ^/community/contribute/the-issue-lifecycle/?$ http://$host/contribute/issue-lifecycle.html permanent;
rewrite ^/community/support/?$ http://$host/support/ permanent;
rewrite ^/contribute/?$ http://$host/contribute.html permanent;
rewrite ^/contribute/cla.php$ http://$host/contribute.html permanent;
rewrite ^/contribute/coding-style.php$ http://$host/contribute.html permanent;
rewrite ^/discuss/2008/09/04/announcing-cappuccino/?$ http://$host/blog/2008/09/announcing-cappuccino.html permanent;
rewrite ^/discuss/2008/09/13/1-week-10000-downloads-later/?$ http://$host/blog/2008/09/1-week-10000-downloads-later.html permanent;
rewrite ^/discuss/2008/09/24/cappuccino-at-ajax-experience-september-30/?$ http://$host/blog/2008/09/cappuccino-at-ajax-experience-september-30.html permanent;
rewrite ^/discuss/2008/09/27/lights-off-porting-the-iphone-app-to-cappuccino/?$ http://$host/blog/2008/09/lights-off-porting-the-iphone-app-to-cappuccino.html permanent;
rewrite ^/discuss/2008/10/01/using-xcode-to-develop-in-cappuccino/?$ http://$host/blog/2008/10/using-xcode-to-develop-in-cappuccino.html permanent;
rewrite ^/discuss/2008/10/06/the-cappuccino-build-tools/?$ http://$host/blog/2008/10/the-cappuccino-build-tools.html permanent;
rewrite ^/discuss/2008/10/08/cappuccino-version-055-released/?$ http://$host/blog/2008/10/cappuccino-version-055-released.html permanent;
rewrite ^/discuss/2008/10/08/cappuccino-world-tour-continues-fowa-london/?$ http://$host/blog/2008/10/cappuccino-world-tour-continues-fowa-london.html permanent;
rewrite ^/discuss/2008/10/08/xmlhttprequest-jsonp-cappuccino/?$ http://$host/blog/2008/10/xmlhttprequest-jsonp-cappuccino.html permanent;
rewrite ^/discuss/2008/10/13/franciscos-talk-at-fowa-london/?$ http://$host/blog/2008/10/franciscos-talk-at-fowa-london.html permanent;
rewrite ^/discuss/2008/10/14/objjc-and-steam/?$ http://$host/blog/2008/10/objjc-and-steam.html permanent;
rewrite ^/discuss/2008/10/21/cappuccino-tools-%e2%80%9cpress%e2%80%9d/?$ http://$host/blog/2008/10/cappuccino-tools-press.html permanent;
rewrite ^/discuss/2008/10/21/web-pages/?$ http://$host/blog/2008/10/web-pages.html permanent;
rewrite ^/discuss/2008/10/22/new-scrapbook-tutorial/?$ http://$host/blog/2008/10/new-scrapbook-tutorial.html permanent;
rewrite ^/discuss/2008/10/26/synthesizing-accessor-methods/?$ http://$host/blog/2008/10/synthesizing-accessor-methods.html permanent;
rewrite ^/discuss/2008/10/29/cappuccino-tools-bak/?$ http://$host/blog/2008/10/cappuccino-tools-bak.html permanent;
rewrite ^/discuss/2008/11/07/new-cappuccino-automatic-layout-tutorial/?$ http://$host/blog/2008/11/new-cappuccino-automatic-layout-tutorial.html permanent;
rewrite ^/discuss/2008/11/08/web-directions-north/?$ http://$host/blog/2008/11/web-directions-north.html permanent;
rewrite ^/discuss/2008/11/11/cappuccino-and-ruby-on-rails/?$ http://$host/blog/2008/11/cappuccino-and-ruby-on-rails.html permanent;
rewrite ^/discuss/2008/11/13/thinkvitamin/?$ http://$host/blog/2008/11/thinkvitamin.html permanent;
rewrite ^/discuss/2008/12/08/on-leaky-abstractions-and-objective-j/?$ http://$host/blog/2008/12/on-leaky-abstractions-and-objective-j.html permanent;
rewrite ^/discuss/2008/12/11/cappuccino-06-available-today/?$ http://$host/blog/2008/12/cappuccino-06-available-today.html permanent;
rewrite ^/discuss/2008/12/18/cappuccino-featured-on-github/?$ http://$host/blog/2008/12/cappuccino-featured-on-github.html permanent;
rewrite ^/discuss/2009/01/22/this-week-in-edge-cappuccino/?$ http://$host/blog/2009/01/this-week-in-edge-cappuccino.html permanent;
rewrite ^/discuss/2009/02/07/cappuccino-casts/?$ http://$host/blog/2009/02/cappuccino-casts.html permanent;
rewrite ^/discuss/2009/02/26/cappuccinoorg-now-hosted-by-slicehost/?$ http://$host/blog/2009/02/cappuccinoorg-now-hosted-by-slicehost.html permanent;
rewrite ^/discuss/2009/02/28/announcing-atlas/?$ http://$host/blog/2009/02/announcing-atlas.html permanent;
rewrite ^/discuss/2009/03/26/cappuccino-07-beta/?$ http://$host/blog/2009/03/cappuccino-07-beta.html permanent;
rewrite ^/discuss/2009/04/29/better-objective-j-profiling-with-cappuccino-07/?$ http://$host/blog/2009/04/better-objective-j-profiling-with-cappuccino-07.html permanent;
rewrite ^/discuss/2009/05/20/cappuccino-07-now-available/?$ http://$host/blog/2009/05/cappuccino-07-now-available.html permanent;
rewrite ^/discuss/2009/06/05/wwdc-cpcoder-night-hosted-by-sofa-and-280-north/?$ http://$host/blog/2009/06/wwdc-cpcoder-night-hosted-by-sofa-and-280-north.html permanent;
rewrite ^/discuss/2009/07/06/cappuccino-071-released/?$ http://$host/blog/2009/07/cappuccino-071-released.html permanent;
rewrite ^/discuss/2009/09/08/cappuccino-turns-one/?$ http://$host/blog/2009/09/cappuccino-turns-one.html permanent;
rewrite ^/discuss/2009/10/05/push-with-cappuccino-and-tornado/?$ http://$host/blog/2009/10/push-with-cappuccino-and-tornado.html permanent;
rewrite ^/discuss/2009/10/06/cappuccino-in-checkout-3/?$ http://$host/blog/2009/10/cappuccino-in-checkout-3.html permanent;
rewrite ^/discuss/2009/11/11/just-one-file-with-cappuccino-0-8/?$ http://$host/blog/2009/11/just-one-file-with-cappuccino-0-8.html permanent;
rewrite ^/discuss/2009/11/29/nick-small-becomes-a-cappuccino-committer/?$ http://$host/blog/2009/11/nick-small-becomes-a-cappuccino-committer.html permanent;
rewrite ^/discuss/2010/03/01/internet-explorer-global-variables-and-stack-overflows/?$ http://$host/blog/2010/03/internet-explorer-global-variables-and-stack-overflows.html permanent;
rewrite ^/discuss/2010/03/12/randy-luecke-becomes-a-committer/?$ http://$host/blog/2010/03/randy-luecke-becomes-a-committer.html permanent;
rewrite ^/discuss/2010/03/17/community-highlights-using-cappuccino-to-build-the-memoryminer-web-viewer/?$ http://$host/blog/2010/03/community-highlights-using-cappuccino-to-build-the-memoryminer-web-viewer.html permanent;
rewrite ^/discuss/2010/03/24/new-cappuccino-app-timetable/?$ http://$host/blog/2010/03/new-cappuccino-app-timetable.html permanent;
rewrite ^/discuss/2010/04/01/solving-the-javascript-memory-management-problem/?$ http://$host/blog/2010/04/solving-the-javascript-memory-management-problem.html permanent;
rewrite ^/discuss/2010/04/07/cappuccino-0-8/?$ http://$host/blog/2010/04/cappuccino-0-8.html permanent;
rewrite ^/discuss/2010/04/12/cappuccino-0-8-tools/?$ http://$host/blog/2010/04/cappuccino-0-8-tools.html permanent;
rewrite ^/discuss/2010/04/28/introducing-jake-a-build-tool-for-javascript/?$ http://$host/blog/2010/04/introducing-jake-a-build-tool-for-javascript.html permanent;
rewrite ^/discuss/2010/05/05/introducing-the-atlas-plugin-api-and-mapkit/?$ http://$host/blog/2010/05/introducing-the-atlas-plugin-api-and-mapkit.html permanent;
rewrite ^/discuss/2010/05/13/github-issues-cappuccino-app-desktop-and-web/?$ http://$host/blog/2010/05/github-issues-cappuccino-app-desktop-and-web.html permanent;
rewrite ^/discuss/2010/05/13/nativehost-run-your-cappuccino-applications-on-the-desktop/?$ http://$host/blog/2010/05/nativehost-run-your-cappuccino-applications-on-the-desktop.html permanent;
rewrite ^/discuss/2010/07/29/community-highlights-adventures-in-localizing-a-cappuccino-application/?$ http://$host/blog/2010/07/community-highlights-adventures-in-localizing-a-cappuccino-application.html permanent;
rewrite ^/discuss/2010/08/18/github-issues-update/?$ http://$host/blog/2010/08/github-issues-update.html permanent;
rewrite ^/discuss/2010/10/04/app-spotlight-picsengine/?$ http://$host/blog/2010/10/app-spotlight-picsengine.html permanent;
rewrite ^/discuss/2010/11/08/mockingbird-1-0/?$ http://$host/blog/2010/11/mockingbird-1-0.html permanent;
rewrite ^/discuss/2010/12/08/cappuccino-apps-on-the-web-store/?$ http://$host/blog/2010/12/cappuccino-apps-on-the-web-store.html permanent;
rewrite ^/discuss/2011/02/23/cappuccino-0-9/?$ http://$host/blog/2011/02/cappuccino-0-9.html permanent;
rewrite ^/discuss/2011/03/31/cappcon-2011/?$ http://$host/blog/2011/03/cappcon-2011.html permanent;
rewrite ^/discuss/2011/05/24/cappcon-tickets-now-available/?$ http://$host/blog/2011/05/cappcon-tickets-now-available.html permanent;
rewrite ^/discuss/2011/06/01/cappcon-2011-update-sold-out/?$ http://$host/blog/2011/06/cappcon-2011-update-sold-out.html permanent;
rewrite ^/discuss/2011/06/15/cappcon-2011-success/?$ http://$host/blog/2011/06/cappcon-2011-success.html permanent;
rewrite ^/discuss/2011/09/01/were-now-cappuccinocappuccino-on-github/?$ http://$host/blog/2011/09/were-now-cappuccinocappuccino-on-github.html permanent;
rewrite ^/discuss/2011/10/19/cappuccino-training-course-ideveloper-tv/?$ http://$host/blog/2011/10/cappuccino-training-course-ideveloper-tv.html permanent;
rewrite ^/discuss/2011/11/16/cappuccino-0-9-5/?$ http://$host/blog/2011/11/cappuccino-0-9-5.html permanent;
rewrite ^/discuss/2012/04/10/cappuccino-news/?$ http://$host/blog/2012/04/cappuccino-news.html permanent;
rewrite ^/discuss/2012/04/17/this-week-in-cappuccino-april-16-2012/?$ http://$host/blog/2012/04/this-week-in-cappuccino-april-16-2012.html permanent;
rewrite ^/discuss/2012/04/24/cappuccino-news-2/?$ http://$host/blog/2012/04/cappuccino-news-2.html permanent;
rewrite ^/discuss/2012/05/28/cleaning-up-our-github-issues/?$ http://$host/blog/2012/05/cleaning-up-our-github-issues.html permanent;
rewrite ^/discuss/events/?$ http://$host/blog/tags/events.html permanent;
rewrite ^/discuss/faq.php$ http://$host/support/faq.html permanent;
rewrite ^/discuss/list.php$ http://$host/support/ permanent;
rewrite ^/discuss/p/100$ http://$host/blog/2008/10/web-pages.html permanent;
rewrite ^/discuss/p/104$ http://$host/blog/2008/10/cappuccino-tools-press.html permanent;
rewrite ^/discuss/p/109$ http://$host/blog/2008/10/new-scrapbook-tutorial.html permanent;
rewrite ^/discuss/p/1134$ http://$host/blog/2011/03/cappcon-2011.html permanent;
rewrite ^/discuss/p/114$ http://$host/blog/2008/10/synthesizing-accessor-methods.html permanent;
rewrite ^/discuss/p/1143$ http://$host/blog/2011/05/cappcon-tickets-now-available.html permanent;
rewrite ^/discuss/p/1149$ http://$host/blog/2011/06/cappcon-2011-update-sold-out.html permanent;
rewrite ^/discuss/p/1152$ http://$host/blog/2011/06/cappcon-2011-success.html permanent;
rewrite ^/discuss/p/1178$ http://$host/blog/2011/09/were-now-cappuccinocappuccino-on-github.html permanent;
rewrite ^/discuss/p/1194$ http://$host/blog/2011/10/cappuccino-training-course-ideveloper-tv.html permanent;
rewrite ^/discuss/p/1210$ http://$host/blog/2011/11/cappuccino-0-9-5.html permanent;
rewrite ^/discuss/p/1265$ http://$host/blog/2012/04/this-week-in-cappuccino-april-16-2012.html permanent;
rewrite ^/discuss/p/1270$ http://$host/blog/2012/04/cappuccino-news.html permanent;
rewrite ^/discuss/p/1284$ http://$host/blog/2012/04/cappuccino-news-2.html permanent;
rewrite ^/discuss/p/1289$ http://$host/blog/2012/05/cleaning-up-our-github-issues.html permanent;
rewrite ^/discuss/p/135$ http://$host/blog/2008/10/cappuccino-tools-bak.html permanent;
rewrite ^/discuss/p/139$ http://$host/blog/2008/11/cappuccino-and-ruby-on-rails.html permanent;
rewrite ^/discuss/p/144$ http://$host/blog/2008/11/new-cappuccino-automatic-layout-tutorial.html permanent;
rewrite ^/discuss/p/150$ http://$host/blog/2008/11/web-directions-north.html permanent;
rewrite ^/discuss/p/153$ http://$host/blog/2008/11/thinkvitamin.html permanent;
rewrite ^/discuss/p/159$ http://$host/blog/2008/12/on-leaky-abstractions-and-objective-j.html permanent;
rewrite ^/discuss/p/16$ http://$host/blog/2008/09/announcing-cappuccino.html permanent;
rewrite ^/discuss/p/20$ http://$host/blog/2008/09/1-week-10000-downloads-later.html permanent;
rewrite ^/discuss/p/23$ http://$host/blog/2008/09/cappuccino-at-ajax-experience-september-30.html permanent;
rewrite ^/discuss/p/248$ http://$host/blog/2008/12/cappuccino-06-available-today.html permanent;
rewrite ^/discuss/p/264$ http://$host/blog/2008/12/cappuccino-featured-on-github.html permanent;
rewrite ^/discuss/p/27$ http://$host/blog/2008/09/lights-off-porting-the-iphone-app-to-cappuccino.html permanent;
rewrite ^/discuss/p/288$ http://$host/blog/2009/01/this-week-in-edge-cappuccino.html permanent;
rewrite ^/discuss/p/291$ http://$host/blog/2009/02/cappuccino-casts.html permanent;
rewrite ^/discuss/p/298$ http://$host/blog/2009/02/cappuccinoorg-now-hosted-by-slicehost.html permanent;
rewrite ^/discuss/p/301$ http://$host/blog/2009/02/announcing-atlas.html permanent;
rewrite ^/discuss/p/306$ http://$host/blog/2009/03/cappuccino-07-beta.html permanent;
rewrite ^/discuss/p/310$ http://$host/blog/2009/04/better-objective-j-profiling-with-cappuccino-07.html permanent;
rewrite ^/discuss/p/314$ http://$host/blog/2009/05/cappuccino-07-now-available.html permanent;
rewrite ^/discuss/p/33$ http://$host/blog/2008/10/using-xcode-to-develop-in-cappuccino.html permanent;
rewrite ^/discuss/p/364$ http://$host/blog/2009/06/wwdc-cpcoder-night-hosted-by-sofa-and-280-north.html permanent;
rewrite ^/discuss/p/367$ http://$host/blog/2009/07/cappuccino-071-released.html permanent;
rewrite ^/discuss/p/384$ http://$host/blog/2009/09/cappuccino-turns-one.html permanent;
rewrite ^/discuss/p/41$ http://$host/blog/2008/10/the-cappuccino-build-tools.html permanent;
rewrite ^/discuss/p/463$ http://$host/blog/2009/10/push-with-cappuccino-and-tornado.html permanent;
rewrite ^/discuss/p/468$ http://$host/blog/2009/10/cappuccino-in-checkout-3.html permanent;
rewrite ^/discuss/p/498$ http://$host/blog/2009/11/just-one-file-with-cappuccino-0-8.html permanent;
rewrite ^/discuss/p/555$ http://$host/blog/2009/11/nick-small-becomes-a-cappuccino-committer.html permanent;
rewrite ^/discuss/p/56$ http://$host/blog/2008/10/xmlhttprequest-jsonp-cappuccino.html permanent;
rewrite ^/discuss/p/560$ http://$host/blog/2010/03/internet-explorer-global-variables-and-stack-overflows.html permanent;
rewrite ^/discuss/p/575$ http://$host/blog/2010/03/randy-luecke-becomes-a-committer.html permanent;
rewrite ^/discuss/p/578$ http://$host/blog/2010/03/community-highlights-using-cappuccino-to-build-the-memoryminer-web-viewer.html permanent;
rewrite ^/discuss/p/584$ http://$host/blog/2010/03/new-cappuccino-app-timetable.html permanent;
rewrite ^/discuss/p/601$ http://$host/blog/2010/04/cappuccino-0-8-tools.html permanent;
rewrite ^/discuss/p/606$ http://$host/blog/2010/04/solving-the-javascript-memory-management-problem.html permanent;
rewrite ^/discuss/p/617$ http://$host/blog/2010/04/cappuccino-0-8.html permanent;
rewrite ^/discuss/p/660$ http://$host/blog/2010/04/introducing-jake-a-build-tool-for-javascript.html permanent;
rewrite ^/discuss/p/744$ http://$host/blog/2010/05/introducing-the-atlas-plugin-api-and-mapkit.html permanent;
rewrite ^/discuss/p/759$ http://$host/blog/2010/05/nativehost-run-your-cappuccino-applications-on-the-desktop.html permanent;
rewrite ^/discuss/p/78$ http://$host/blog/2008/10/cappuccino-world-tour-continues-fowa-london.html permanent;
rewrite ^/discuss/p/803$ http://$host/blog/2010/05/github-issues-cappuccino-app-desktop-and-web.html permanent;
rewrite ^/discuss/p/84$ http://$host/blog/2008/10/cappuccino-version-055-released.html permanent;
rewrite ^/discuss/p/88$ http://$host/blog/2008/10/franciscos-talk-at-fowa-london.html permanent;
rewrite ^/discuss/p/885$ http://$host/blog/2010/07/community-highlights-adventures-in-localizing-a-cappuccino-application.html permanent;
rewrite ^/discuss/p/889$ http://$host/blog/2010/08/github-issues-update.html permanent;
rewrite ^/discuss/p/910$ http://$host/blog/2010/10/app-spotlight-picsengine.html permanent;
rewrite ^/discuss/p/93$ http://$host/blog/2008/10/objjc-and-steam.html permanent;
rewrite ^/discuss/p/936$ http://$host/blog/2010/11/mockingbird-1-0.html permanent;
rewrite ^/discuss/p/954$ http://$host/blog/2010/12/cappuccino-apps-on-the-web-store.html permanent;
rewrite ^/discuss/p/993$ http://$host/blog/2011/02/cappuccino-0-9.html permanent;
rewrite ^/download/?$ http://$host/downloads.html permanent;
rewrite ^/download/readme.php$ http://$host/learn/starter.html permanent;
rewrite ^/events/?$ http://$host/blog/tags/events.html permanent;
rewrite ^/learn/demos/?$ http://$host/learn/demos.html permanent;
rewrite ^/learn/demos/FlickrPhoto/index-deploy.html$ http://$host/learn/demos/FlickrPhoto/index-debug.html permanent;
rewrite ^/learn/demos/FloorPlan/index-deploy.html$ http://$host/learn/demos/FloorPlan/index-debug.html permanent;
rewrite ^/learn/demos/LightsOff/index-deploy.html$ http://$host/learn/demos/LightsOff/index-debug.html permanent;
rewrite "^/learn/demos/Scrapbook/Part 1/index-deploy.html$" http://$host/learn/demos/Scrapbook/Part%201/index-debug.html permanent;
rewrite "^/learn/demos/Scrapbook/Part 2/index-deploy.html$" http://$host/learn/demos/Scrapbook/Part%202/index-debug.html permanent;
rewrite ^/learn/features/?$ http://$host/learn/ permanent;
rewrite ^/learn/install-cappuccino$ http://$host/learn/build-source.html permanent;
rewrite ^/learn/licensing.php$ http://$host/support/faq.html#licensing permanent;
rewrite ^/learn/overview/?$ http://$host/learn/ permanent;
rewrite ^/learn/tutorials/?$ http://$host/learn/ permanent;
rewrite ^/learn/tutorials/?$ http://$host/learn/ permanent;
rewrite ^/learn/tutorials/advanced-hello-world-2/?$ http://$host/learn/xcode-basics.html permanent;
rewrite ^/learn/tutorials/advanced-hello-world/?$ http://$host/learn/starter.html permanent;
rewrite ^/learn/tutorials/automatic-layout/?$ http://$host/learn/automatic-layout.html permanent;
rewrite ^/learn/tutorials/checking-out.php$ http://$host/learn/build-source.html permanent;
rewrite ^/learn/tutorials/create-your-first-project/?$ http://$host/learn/starter.html permanent;
rewrite ^/learn/tutorials/debugging-your-application/?$ http://$host/learn/debugging.html permanent;
rewrite ^/learn/tutorials/getting-setup.php$ http://$host/learn/environment.html permanent;
rewrite ^/learn/tutorials/install-cappuccino/?$ http://$host/learn/build-source.html permanent;
rewrite ^/learn/tutorials/objective-j-syntax/?$ http://$host/learn/objective-j.html permanent;
rewrite ^/learn/tutorials/objective-j-tutorial.php$ http://$host/learn/objective-j.html permanent;
rewrite ^/learn/tutorials/prepare-your-environment/?$ http://$host/learn/environment.html permanent;
rewrite ^/learn/tutorials/scrapbook-tutorial-1/?$ http://$host/learn/scrapbook-1.html permanent;
rewrite ^/learn/tutorials/scrapbook-tutorial-2/?$ http://$host/learn/scrapbook-2.html permanent;
rewrite ^/learn/tutorials/starter-tutorial.php$ http://$host/learn/starter.html permanent;
rewrite ^/objective-j-and-cocoa/?$ http://$host/learn/objective-j.html permanent;
